{"ast":null,"code":"import { detectBrowser, focus, isActiveElement, isRefObject } from \"@chakra-ui/utils\";\nimport { usePointerEvent } from \"./use-pointer-event\";\n/**\n * Polyfill to get `relatedTarget` working correctly consistently\n * across all browsers.\n *\n * It ensures that elements receives focus on pointer down if\n * it's not the active active element.\n *\n * @internal\n */\n\nexport function useFocusOnPointerDown(props) {\n  var doc = props.doc,\n      elements = props.elements;\n  var isSafari = detectBrowser(\"Safari\");\n  usePointerEvent(doc, \"pointerdown\", function (event) {\n    if (!isSafari) return;\n    var target = event.target;\n    var isValidTarget = elements.some(function (element) {\n      if (isRefObject(element)) {\n        return target === element.current;\n      }\n\n      return target === element;\n    });\n\n    if (!isActiveElement(target) && isValidTarget) {\n      focus(target);\n    }\n  });\n}","map":null,"metadata":{},"sourceType":"module"}