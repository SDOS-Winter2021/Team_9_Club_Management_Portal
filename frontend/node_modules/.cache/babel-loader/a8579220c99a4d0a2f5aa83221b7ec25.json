{"ast":null,"code":"import _regeneratorRuntime from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\Team_9_Club_Management_Portal\\\\frontend\\\\src\\\\club-page\\\\App.js\";\nimport React, { Component } from 'react';\nimport { Box, Heading, Container, Text, Button, Stack, Icon, useColorModeValue, createIcon, ThemeProvider, CSSReset, theme } from '@chakra-ui/react';\nimport { useParams } from \"react-router-dom\";\nimport Body from './components/Body';\nimport Header from './components/Header';\nimport getData from './components/getData';\nimport getEvent from './components/getEvent';\nimport { useState, useEffect } from 'react';\n\nvar Club_Page = /*#__PURE__*/function (_React$Component) {\n  var _s = $RefreshSig$();\n\n  _inherits(Club_Page, _React$Component);\n\n  var _super = _createSuper(Club_Page);\n\n  function Club_Page() {\n    _classCallCheck(this, Club_Page);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Club_Page, [{\n    key: \"componentDidMount\",\n    value: _s(function componentDidMount() {\n      _s();\n\n      var name = useParams().name;\n\n      var _useState = useState({}),\n          _useState2 = _slicedToArray(_useState, 2),\n          event = _useState2[0],\n          setevent = _useState2[1];\n\n      var _useState3 = useState({}),\n          _useState4 = _slicedToArray(_useState3, 2),\n          general = _useState4[0],\n          setgeneral = _useState4[1]; // transfers sessionStorage from one tab to another\n\n\n      var sessionStorage_transfer = function sessionStorage_transfer(event) {\n        if (!event) {\n          event = window.event;\n        } // ie suq\n\n\n        if (!event.newValue) return; // do nothing if no value to work with\n\n        if (event.key == 'getSessionStorage') {\n          // another tab asked for the sessionStorage -> send it\n          localStorage.setItem('sessionStorage', JSON.stringify(sessionStorage)); // the other tab should now have it, so we're done with it.\n\n          localStorage.removeItem('sessionStorage'); // <- could do short timeout as well.\n        } else if (event.key == 'sessionStorage' && !sessionStorage.length) {\n          // another tab sent data <- get it\n          var data = JSON.parse(event.newValue);\n\n          for (var key in data) {\n            sessionStorage.setItem(key, data[key]);\n          }\n        }\n      }; // listen for changes to localStorage\n\n\n      if (window.addEventListener) {\n        window.addEventListener(\"storage\", sessionStorage_transfer, false);\n      } else {\n        window.attachEvent(\"onstorage\", sessionStorage_transfer);\n      }\n\n      ; // Ask other tabs for session storage (this is ONLY to trigger event)\n\n      if (!sessionStorage.length) {\n        localStorage.setItem('getSessionStorage', 'foobar');\n        localStorage.removeItem('getSessionStorage', 'foobar');\n      }\n\n      ;\n      fetchData();\n    }, \"z/de8qSCWDooDY7xfAMzOVsBqNo=\", false, function () {\n      return [useParams];\n    })\n  }, {\n    key: \"fetchData\",\n    value: function () {\n      var _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var eResponse_general, eResponse_event;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getData(this.name.slice(name.indexOf(\"@\") + 1));\n\n              case 2:\n                eResponse_general = _context.sent;\n                setgeneral(eResponse_general.data);\n                _context.next = 6;\n                return getEvent(this.name.slice(0, this.name.indexOf(\"@\")));\n\n              case 6:\n                eResponse_event = _context.sent;\n                setevent(eResponse_event.data);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function fetchData() {\n        return _fetchData.apply(this, arguments);\n      }\n\n      return fetchData;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ThemeProvider, {\n        theme: theme,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(CSSReset, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(Header, {\n        Info: general,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(Body, {\n        Info_G: general,\n        Info_E: event,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 5\n        }\n      }));\n    }\n  }]);\n\n  return Club_Page;\n}(React.Component);\n\nexport default Club_Page;","map":{"version":3,"sources":["D:/Team_9_Club_Management_Portal/frontend/src/club-page/App.js"],"names":["React","Component","Box","Heading","Container","Text","Button","Stack","Icon","useColorModeValue","createIcon","ThemeProvider","CSSReset","theme","useParams","Body","Header","getData","getEvent","useState","useEffect","Club_Page","name","event","setevent","general","setgeneral","sessionStorage_transfer","window","newValue","key","localStorage","setItem","JSON","stringify","sessionStorage","removeItem","length","data","parse","addEventListener","attachEvent","fetchData","slice","indexOf","eResponse_general","eResponse_event"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\r\nimport {\r\n    Box,\r\n    Heading,\r\n    Container,\r\n    Text,\r\n    Button,\r\n    Stack,\r\n    Icon,\r\n    useColorModeValue,\r\n    createIcon,\r\n    ThemeProvider,\r\n  CSSReset,\r\n  theme,\r\n} from '@chakra-ui/react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport Body from './components/Body'\r\nimport Header from './components/Header'\r\nimport getData from './components/getData'\r\nimport getEvent from './components/getEvent'\r\nimport { useState, useEffect } from 'react';\r\n\r\n\r\nclass Club_Page extends React.Component{\r\n  componentDidMount() {\r\n    var name = useParams().name;\r\n\r\n    const [event, setevent] = useState({});\r\n    const [general, setgeneral] = useState({});\r\n    // transfers sessionStorage from one tab to another\r\n    var sessionStorage_transfer = function(event) {\r\n      if(!event) { event = window.event; } // ie suq\r\n      if(!event.newValue) return;          // do nothing if no value to work with\r\n      if (event.key == 'getSessionStorage') {\r\n        // another tab asked for the sessionStorage -> send it\r\n        localStorage.setItem('sessionStorage', JSON.stringify(sessionStorage));\r\n        // the other tab should now have it, so we're done with it.\r\n        localStorage.removeItem('sessionStorage'); // <- could do short timeout as well.\r\n      } else if (event.key == 'sessionStorage' && !sessionStorage.length) {\r\n        // another tab sent data <- get it\r\n        var data = JSON.parse(event.newValue);\r\n        for (var key in data) {\r\n          sessionStorage.setItem(key, data[key]);\r\n        }\r\n      }\r\n    };\r\n\r\n    // listen for changes to localStorage\r\n    if(window.addEventListener) {\r\n      window.addEventListener(\"storage\", sessionStorage_transfer, false);\r\n    } else {\r\n      window.attachEvent(\"onstorage\", sessionStorage_transfer);\r\n    };\r\n\r\n    // Ask other tabs for session storage (this is ONLY to trigger event)\r\n    if (!sessionStorage.length) {\r\n      localStorage.setItem('getSessionStorage', 'foobar');\r\n      localStorage.removeItem('getSessionStorage', 'foobar');\r\n    };\r\n\r\n    fetchData();\r\n  }\r\n\r\n  async fetchData() {\r\n  let eResponse_general  = await getData(this.name.slice(name.indexOf(\"@\")+1,))\r\n  setgeneral(eResponse_general.data)\r\n\r\n  let eResponse_event  = await getEvent(this.name.slice(0,this.name.indexOf(\"@\")))\r\n  setevent(eResponse_event.data)\r\n  }\r\n\r\n  render() {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n    <CSSReset/>\r\n    <Header Info={general}></Header>\r\n    <Body Info_G={general} Info_E={event}></Body>\r\n  </ThemeProvider>\r\n  )\r\n  }\r\n}\r\n\r\nexport default Club_Page"]},"metadata":{},"sourceType":"module"}