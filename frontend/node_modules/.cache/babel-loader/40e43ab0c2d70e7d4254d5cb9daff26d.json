{"ast":null,"code":"import _classCallCheck from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:/Team_9_Club_Management_Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\Team_9_Club_Management_Portal\\\\frontend\\\\src\\\\home-page\\\\App.js\";\nimport React from 'react';\nimport { ThemeProvider, CSSReset, theme, Box, Image, Badge, Text, Icon, Stack, Avatar, AvatarBadge, Alert, AlertIcon, AlertTitle, AlertDescription, FormLabel, Input, FormHelperText, FormErrorMessage, Grid, Switch, InputGroup, InputRightElement, Flex, Tag, Heading } from '@chakra-ui/react';\nimport axios from \"axios\";\nimport Header from './components/Header';\nimport Events from './components/Events';\nimport Clubs from './components/Clubs';\n\nwindow.onbeforeunload = function () {\n  localStorage.clear();\n};\n\nvar Home_Page = /*#__PURE__*/function (_React$Component) {\n  _inherits(Home_Page, _React$Component);\n\n  var _super = _createSuper(Home_Page);\n\n  function Home_Page() {\n    var _this;\n\n    _classCallCheck(this, Home_Page);\n\n    _this = _super.call(this);\n    _this.state = {\n      user_info: {}\n    };\n\n    _this.getUser = function () {\n      console.log(\"Getting User\");\n      axios.get(\"http://127.0.0.1:8000/api/user/info\").then(function (data) {\n        return _this.setState({\n          user_info: data.data\n        });\n      });\n\n      _this.setInfo();\n    };\n\n    _this.setInfo = function () {\n      console.log(\"Setting User Info\");\n      console.log(_this.state.user_info.email);\n      console.log(_this.state.user_info);\n      console.log(_this.state.user_info.name);\n      sessionStorage.setItem('email', _this.state.user_info.email);\n      localStorage.setItem('name', _this.state.user_info.name);\n    };\n\n    return _this;\n  }\n\n  _createClass(Home_Page, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUser(); // transfers sessionStorage from one tab to another\n\n      var sessionStorage_transfer = function sessionStorage_transfer(event) {\n        if (!event) {\n          event = window.event;\n        } // ie suq\n\n\n        if (!event.newValue) return; // do nothing if no value to work with\n\n        if (event.key == 'getSessionStorage') {\n          // another tab asked for the sessionStorage -> send it\n          localStorage.setItem('sessionStorage', JSON.stringify(sessionStorage)); // the other tab should now have it, so we're done with it.\n\n          localStorage.removeItem('sessionStorage'); // <- could do short timeout as well.\n        } else if (event.key == 'sessionStorage' && !sessionStorage.length) {\n          // another tab sent data <- get it\n          var data = JSON.parse(event.newValue);\n\n          for (var key in data) {\n            sessionStorage.setItem(key, data[key]);\n          }\n        }\n      }; // listen for changes to localStorage\n\n\n      if (window.addEventListener) {\n        window.addEventListener(\"storage\", sessionStorage_transfer, false);\n      } else {\n        window.attachEvent(\"onstorage\", sessionStorage_transfer);\n      }\n\n      ; // Ask other tabs for session storage (this is ONLY to trigger event)\n\n      if (!sessionStorage.length) {\n        localStorage.setItem('getSessionStorage', 'foobar');\n        localStorage.removeItem('getSessionStorage', 'foobar');\n      }\n\n      ;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.setInfo(), /*#__PURE__*/React.createElement(ThemeProvider, {\n        theme: theme,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CSSReset, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Events, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Clubs, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }\n      })));\n    }\n  }]);\n\n  return Home_Page;\n}(React.Component);\n\nexport default Home_Page;","map":{"version":3,"sources":["D:/Team_9_Club_Management_Portal/frontend/src/home-page/App.js"],"names":["React","ThemeProvider","CSSReset","theme","Box","Image","Badge","Text","Icon","Stack","Avatar","AvatarBadge","Alert","AlertIcon","AlertTitle","AlertDescription","FormLabel","Input","FormHelperText","FormErrorMessage","Grid","Switch","InputGroup","InputRightElement","Flex","Tag","Heading","axios","Header","Events","Clubs","window","onbeforeunload","localStorage","clear","Home_Page","state","user_info","getUser","console","log","get","then","data","setState","setInfo","email","name","sessionStorage","setItem","sessionStorage_transfer","event","newValue","key","JSON","stringify","removeItem","length","parse","addEventListener","attachEvent","Component"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,aADF,EAEEC,QAFF,EAGEC,KAHF,EAIEC,GAJF,EAKEC,KALF,EAMEC,KANF,EAOEC,IAPF,EAQEC,IARF,EASEC,KATF,EAUEC,MAVF,EAWEC,WAXF,EAYEC,KAZF,EAaEC,SAbF,EAcEC,UAdF,EAeEC,gBAfF,EAgBEC,SAhBF,EAiBEC,KAjBF,EAkBEC,cAlBF,EAmBEC,gBAnBF,EAoBEC,IApBF,EAqBEC,MArBF,EAsBEC,UAtBF,EAuBEC,iBAvBF,EAwBEC,IAxBF,EAyBEC,GAzBF,EA0BEC,OA1BF,QA2BO,kBA3BP;AA4BA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAEAC,MAAM,CAACC,cAAP,GAAwB,YAAW;AACjCC,EAAAA,YAAY,CAACC,KAAb;AACD,CAFD;;IAKMC,S;;;;;AACJ,uBAAc;AAAA;;AAAA;;AACZ;AADY,UAKdC,KALc,GAKN;AACNC,MAAAA,SAAS,EAAE;AADL,KALM;;AAAA,UA2CdC,OA3Cc,GA2CJ,YAAM;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAb,MAAAA,KAAK,CACFc,GADH,CACO,qCADP,EAEGC,IAFH,CAEQ,UAACC,IAAD;AAAA,eAAU,MAAKC,QAAL,CAAc;AAAEP,UAAAA,SAAS,EAAEM,IAAI,CAACA;AAAlB,SAAd,CAAV;AAAA,OAFR;;AAGE,YAAKE,OAAL;AACH,KAjDa;;AAAA,UAmDdA,OAnDc,GAmDJ,YAAM;AACdN,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKJ,KAAL,CAAWC,SAAX,CAAqBS,KAAjC;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKJ,KAAL,CAAWC,SAAvB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKJ,KAAL,CAAWC,SAAX,CAAqBU,IAAjC;AACAC,MAAAA,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgC,MAAKb,KAAL,CAAWC,SAAX,CAAqBS,KAArD;AACAb,MAAAA,YAAY,CAACgB,OAAb,CAAqB,MAArB,EAA6B,MAAKb,KAAL,CAAWC,SAAX,CAAqBU,IAAlD;AACD,KA1Da;;AAAA;AAGb;;;;WAMD,6BAAoB;AAClB,WAAKT,OAAL,GADkB,CAElB;;AACA,UAAIY,uBAAuB,GAAG,SAA1BA,uBAA0B,CAASC,KAAT,EAAgB;AAC5C,YAAG,CAACA,KAAJ,EAAW;AAAEA,UAAAA,KAAK,GAAGpB,MAAM,CAACoB,KAAf;AAAuB,SADQ,CACP;;;AACrC,YAAG,CAACA,KAAK,CAACC,QAAV,EAAoB,OAFwB,CAEP;;AACrC,YAAID,KAAK,CAACE,GAAN,IAAa,mBAAjB,EAAsC;AACpC;AACApB,UAAAA,YAAY,CAACgB,OAAb,CAAqB,gBAArB,EAAuCK,IAAI,CAACC,SAAL,CAAeP,cAAf,CAAvC,EAFoC,CAGpC;;AACAf,UAAAA,YAAY,CAACuB,UAAb,CAAwB,gBAAxB,EAJoC,CAIO;AAC5C,SALD,MAKO,IAAIL,KAAK,CAACE,GAAN,IAAa,gBAAb,IAAiC,CAACL,cAAc,CAACS,MAArD,EAA6D;AAClE;AACA,cAAId,IAAI,GAAGW,IAAI,CAACI,KAAL,CAAWP,KAAK,CAACC,QAAjB,CAAX;;AACA,eAAK,IAAIC,GAAT,IAAgBV,IAAhB,EAAsB;AACpBK,YAAAA,cAAc,CAACC,OAAf,CAAuBI,GAAvB,EAA4BV,IAAI,CAACU,GAAD,CAAhC;AACD;AACF;AACF,OAfD,CAHkB,CAoBlB;;;AACA,UAAGtB,MAAM,CAAC4B,gBAAV,EAA4B;AAC1B5B,QAAAA,MAAM,CAAC4B,gBAAP,CAAwB,SAAxB,EAAmCT,uBAAnC,EAA4D,KAA5D;AACD,OAFD,MAEO;AACLnB,QAAAA,MAAM,CAAC6B,WAAP,CAAmB,WAAnB,EAAgCV,uBAAhC;AACD;;AAAA,OAzBiB,CA2BlB;;AACA,UAAI,CAACF,cAAc,CAACS,MAApB,EAA4B;AAC1BxB,QAAAA,YAAY,CAACgB,OAAb,CAAqB,mBAArB,EAA0C,QAA1C;AACAhB,QAAAA,YAAY,CAACuB,UAAb,CAAwB,mBAAxB,EAA6C,QAA7C;AACD;;AAAA;AACF;;;WAqBD,kBAAS;AACP,0BACE,0CACC,KAAKX,OAAL,EADD,eAEA,oBAAC,aAAD;AAAe,QAAA,KAAK,EAAE1C,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,eAGE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,eAIE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CAFA,CADF;AAWD;;;;EA3EqBH,KAAK,CAAC6D,S;;AA6E9B,eAAe1B,SAAf","sourcesContent":["import React from 'react'\r\nimport {\r\n  ThemeProvider,\r\n  CSSReset,\r\n  theme,\r\n  Box,\r\n  Image,\r\n  Badge,\r\n  Text,\r\n  Icon,\r\n  Stack,\r\n  Avatar,\r\n  AvatarBadge,\r\n  Alert,\r\n  AlertIcon,\r\n  AlertTitle,\r\n  AlertDescription,\r\n  FormLabel,\r\n  Input,\r\n  FormHelperText,\r\n  FormErrorMessage,\r\n  Grid,\r\n  Switch,\r\n  InputGroup,\r\n  InputRightElement,\r\n  Flex,\r\n  Tag,\r\n  Heading\r\n} from '@chakra-ui/react'\r\nimport axios from \"axios\";\r\nimport Header from './components/Header'\r\nimport Events from './components/Events'\r\nimport Clubs from './components/Clubs'\r\n\r\nwindow.onbeforeunload = function() {\r\n  localStorage.clear();\r\n}\r\n\r\n\r\nclass Home_Page extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n  }\r\n\r\n  state = {\r\n    user_info: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getUser();\r\n    // transfers sessionStorage from one tab to another\r\n    var sessionStorage_transfer = function(event) {\r\n      if(!event) { event = window.event; } // ie suq\r\n      if(!event.newValue) return;          // do nothing if no value to work with\r\n      if (event.key == 'getSessionStorage') {\r\n        // another tab asked for the sessionStorage -> send it\r\n        localStorage.setItem('sessionStorage', JSON.stringify(sessionStorage));\r\n        // the other tab should now have it, so we're done with it.\r\n        localStorage.removeItem('sessionStorage'); // <- could do short timeout as well.\r\n      } else if (event.key == 'sessionStorage' && !sessionStorage.length) {\r\n        // another tab sent data <- get it\r\n        var data = JSON.parse(event.newValue);\r\n        for (var key in data) {\r\n          sessionStorage.setItem(key, data[key]);\r\n        }\r\n      }\r\n    };\r\n\r\n    // listen for changes to localStorage\r\n    if(window.addEventListener) {\r\n      window.addEventListener(\"storage\", sessionStorage_transfer, false);\r\n    } else {\r\n      window.attachEvent(\"onstorage\", sessionStorage_transfer);\r\n    };\r\n\r\n    // Ask other tabs for session storage (this is ONLY to trigger event)\r\n    if (!sessionStorage.length) {\r\n      localStorage.setItem('getSessionStorage', 'foobar');\r\n      localStorage.removeItem('getSessionStorage', 'foobar');\r\n    };\r\n  }\r\n\r\n  getUser = () => {\r\n    console.log(\"Getting User\");\r\n    axios\r\n      .get(\"http://127.0.0.1:8000/api/user/info\")\r\n      .then((data) => this.setState({ user_info: data.data }));\r\n      this.setInfo();\r\n  };\r\n  \r\n  setInfo = () => {\r\n    console.log(\"Setting User Info\");\r\n    console.log(this.state.user_info.email)\r\n    console.log(this.state.user_info)\r\n    console.log(this.state.user_info.name)\r\n    sessionStorage.setItem('email', this.state.user_info.email);\r\n    localStorage.setItem('name', this.state.user_info.name);\r\n  };\r\n\r\n  \r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      {this.setInfo()}\r\n      <ThemeProvider theme={theme}>\r\n        <CSSReset/>\r\n        <Header></Header>\r\n        <Events></Events>\r\n        <Clubs></Clubs>\r\n      </ThemeProvider>\r\n      </>\r\n    )\r\n  }\r\n}\r\nexport default Home_Page\r\n"]},"metadata":{},"sourceType":"module"}